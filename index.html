<!DOCTYPE html>
<html>
<head>
    <title>Turnout Rate by State, 2016 Election</title>
    <style type="text/css">
        h1 {
            text-align: center;
        }
    </style>
</head>
<body>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="/voter-turnout/datamaps.usa.min.js"></script>
<h1>Turnout Rate by State, 2016 Election</h1>
<div id="container"></div>
<div>Source: <a href="http://www.electproject.org/2016g">http://www.electproject.org/2016g</a></div>
<script>
    var series = [{"turnoutRate": 0.579, "totalVoters": 133983600, "totalEligibleVoters": 231556622, "abbreviation": "US", "source": "", "state": "United States", "percentNonCitizen": 0.084}, {"turnoutRate": 0.5870000000000001, "totalVoters": 2115000, "totalEligibleVoters": 3606103, "abbreviation": "AL", "source": "http://www.alabamavotes.gov/electionnight/statewideresultsbycontest.aspx?ecode=1000500", "state": "Alabama", "percentNonCitizen": 0.026000000000000002}, {"turnoutRate": 0.606, "totalVoters": 315000, "totalEligibleVoters": 519501, "abbreviation": "AK", "source": "http://www.elect.alaska.net/", "state": "Alaska", "percentNonCitizen": 0.043}, {"turnoutRate": 0.563, "totalVoters": 2670000, "totalEligibleVoters": 4738332, "abbreviation": "AZ", "source": "http://results.arizona.vote/2016/General/n1591/Results-State.html", "state": "Arizona", "percentNonCitizen": 0.095}, {"turnoutRate": 0.525, "totalVoters": 1127000, "totalEligibleVoters": 2148441, "abbreviation": "AR", "source": "http://results.enr.clarityelections.com/AR/63912/182850/Web01/en/summary.html", "state": "Arkansas", "percentNonCitizen": 0.038}, {"turnoutRate": 0.526, "totalVoters": 13300000, "totalEligibleVoters": 25278803, "abbreviation": "CA", "source": "http://vote.sos.ca.gov/", "state": "California", "percentNonCitizen": 0.16699999999999998}, {"turnoutRate": 0.6709999999999999, "totalVoters": 2670000, "totalEligibleVoters": 3978892, "abbreviation": "CO", "source": "http://results.enr.clarityelections.com/CO/63746/182883/Web01/en/summary.html", "state": "Colorado", "percentNonCitizen": 0.07200000000000001}, {"turnoutRate": 0.623, "totalVoters": 1602000, "totalEligibleVoters": 2572337, "abbreviation": "CT", "source": "http://ctemspublic.pcctg.net/#/home", "state": "Connecticut", "percentNonCitizen": 0.086}, {"turnoutRate": 0.639, "totalVoters": 443000, "totalEligibleVoters": 693659, "abbreviation": "DE", "source": "http://elections.delaware.gov/results/html/election.shtml", "state": "Delaware", "percentNonCitizen": 0.06}, {"turnoutRate": 0.557, "totalVoters": 288000, "totalEligibleVoters": 516771, "abbreviation": "DC", "source": "https://www.dcboee.org/election_info/election_results/v3/2016/November-8-General-Election", "state": "District of Columbia", "percentNonCitizen": 0.09}, {"turnoutRate": 0.6509999999999999, "totalVoters": 9500000, "totalEligibleVoters": 14601373, "abbreviation": "FL", "source": "http://enight.elections.myflorida.com/", "state": "Florida", "percentNonCitizen": 0.107}, {"turnoutRate": 0.6, "totalVoters": 4175000, "totalEligibleVoters": 6958725, "abbreviation": "GA", "source": "http://results.enr.clarityelections.com/GA/63991/182885/en/summary.html", "state": "Georgia", "percentNonCitizen": 0.071}, {"turnoutRate": 0.425, "totalVoters": 437600, "totalEligibleVoters": 1029072, "abbreviation": "HI", "source": "http://elections.hawaii.gov/wp-content/results/histatewide.pdf", "state": "Hawaii", "percentNonCitizen": 0.087}, {"turnoutRate": 0.597, "totalVoters": 693000, "totalEligibleVoters": 1161211, "abbreviation": "ID", "source": "http://www.sos.idaho.gov/ELECT/results/2016/General/ENR/statewide_total.html", "state": "Idaho", "percentNonCitizen": 0.044000000000000004}, {"turnoutRate": 0.601, "totalVoters": 5400000, "totalEligibleVoters": 8983758, "abbreviation": "IL", "source": "", "state": "Illinois", "percentNonCitizen": 0.08900000000000001}, {"turnoutRate": 0.562, "totalVoters": 2731000, "totalEligibleVoters": 4860929, "abbreviation": "IN", "source": "http://www.in.gov/apps/sos/election/general/general2016", "state": "Indiana", "percentNonCitizen": 0.036000000000000004}, {"turnoutRate": 0.6859999999999999, "totalVoters": 1575000, "totalEligibleVoters": 2297129, "abbreviation": "IA", "source": "https://electionresults.sos.iowa.gov/Views/TabularData.aspx?TabView=StateRaces^Federal%20/%20Statewide%20Races^86&ElectionID=86", "state": "Iowa", "percentNonCitizen": 0.035}, {"turnoutRate": 0.557, "totalVoters": 1150000, "totalEligibleVoters": 2065761, "abbreviation": "KS", "source": "http://www.sos.ks.gov/ent/kssos_ent.html", "state": "Kansas", "percentNonCitizen": 0.054000000000000006}, {"turnoutRate": 0.5870000000000001, "totalVoters": 1925000, "totalEligibleVoters": 3276707, "abbreviation": "KY", "source": "http://results.enr.clarityelections.com/KY/64180/182267/Web01/en/summary.html", "state": "Kentucky", "percentNonCitizen": 0.025}, {"turnoutRate": 0.599, "totalVoters": 2030000, "totalEligibleVoters": 3391431, "abbreviation": "LA", "source": "https://voterportal.sos.la.gov/Graphical", "state": "Louisiana", "percentNonCitizen": 0.027999999999999997}, {"turnoutRate": 0.6990000000000001, "totalVoters": 740000, "totalEligibleVoters": 1058306, "abbreviation": "ME", "source": "", "state": "Maine", "percentNonCitizen": 0.016}, {"turnoutRate": 0.607, "totalVoters": 2550000, "totalEligibleVoters": 4202282, "abbreviation": "MD", "source": "http://elections.maryland.gov/elections/2016/results/General/gen_results_2016_4_001-.html", "state": "Maryland", "percentNonCitizen": 0.09}, {"turnoutRate": 0.653, "totalVoters": 3253000, "totalEligibleVoters": 4978165, "abbreviation": "MA", "source": "", "state": "Massachusetts", "percentNonCitizen": 0.08900000000000001}, {"turnoutRate": 0.6459999999999999, "totalVoters": 4800000, "totalEligibleVoters": 7431589, "abbreviation": "MI", "source": "http://miboecfr.nictusa.com/election/results/2016GEN_CENR.html", "state": "Michigan", "percentNonCitizen": 0.036000000000000004}, {"turnoutRate": 0.741, "totalVoters": 2945000, "totalEligibleVoters": 3972330, "abbreviation": "MN", "source": "http://electionresults.sos.state.mn.us/Results/President/100?officeInElectionId=10733", "state": "Minnesota", "percentNonCitizen": 0.047}, {"turnoutRate": 0.535, "totalVoters": 1165000, "totalEligibleVoters": 2177349, "abbreviation": "MS", "source": "", "state": "Mississippi", "percentNonCitizen": 0.019}, {"turnoutRate": 0.619, "totalVoters": 2800000, "totalEligibleVoters": 4519978, "abbreviation": "MO", "source": "http://enr.sos.mo.gov/enrnet/default.aspx?eid=750003949", "state": "Missouri", "percentNonCitizen": 0.026000000000000002}, {"turnoutRate": 0.634, "totalVoters": 510000, "totalEligibleVoters": 803833, "abbreviation": "MT", "source": "http://mtelectionresults.gov/", "state": "Montana", "percentNonCitizen": 0.012}, {"turnoutRate": 0.617, "totalVoters": 835000, "totalEligibleVoters": 1353558, "abbreviation": "NE", "source": "http://electionresults.sos.ne.gov/", "state": "Nebraska", "percentNonCitizen": 0.051}, {"turnoutRate": 0.5710000000000001, "totalVoters": 1125000, "totalEligibleVoters": 1970426, "abbreviation": "NV", "source": "http://silverstateelection.com/", "state": "Nevada", "percentNonCitizen": 0.126}, {"turnoutRate": 0.703, "totalVoters": 732000, "totalEligibleVoters": 1041147, "abbreviation": "NH", "source": "", "state": "New Hampshire", "percentNonCitizen": 0.03}, {"turnoutRate": 0.5920000000000001, "totalVoters": 3610000, "totalEligibleVoters": 6093144, "abbreviation": "NJ", "source": "http://www.state.nj.us/state/elections/2016-results/2016-unofficial-general-results-president.pdf", "state": "New Jersey", "percentNonCitizen": 0.11599999999999999}, {"turnoutRate": 0.5479999999999999, "totalVoters": 800000, "totalEligibleVoters": 1459901, "abbreviation": "NM", "source": "http://electionresults.sos.state.nm.us/", "state": "New Mexico", "percentNonCitizen": 0.073}, {"turnoutRate": 0.524, "totalVoters": 7175000, "totalEligibleVoters": 13693128, "abbreviation": "NY", "source": "http://nyenr.elections.state.ny.us/", "state": "New York", "percentNonCitizen": 0.12}, {"turnoutRate": 0.6459999999999999, "totalVoters": 4725000, "totalEligibleVoters": 7317507, "abbreviation": "NC", "source": "http://er.ncsbe.gov/?election_dt=11/08/2016&county_id=0&office=FED&contest=0", "state": "North Carolina", "percentNonCitizen": 0.059000000000000004}, {"turnoutRate": 0.5920000000000001, "totalVoters": 345000, "totalEligibleVoters": 582534, "abbreviation": "ND", "source": "http://results.sos.nd.gov/resultsSW.aspx?text=Race&type=SW&map=CTY", "state": "North Dakota", "percentNonCitizen": 0.025}, {"turnoutRate": 0.645, "totalVoters": 5650000, "totalEligibleVoters": 8753269, "abbreviation": "OH", "source": "https://vote.ohio.gov/", "state": "Ohio", "percentNonCitizen": 0.024}, {"turnoutRate": 0.521, "totalVoters": 1455000, "totalEligibleVoters": 2792423, "abbreviation": "OK", "source": "https://www.ok.gov/elections/support/ok_results_seb.html", "state": "Oklahoma", "percentNonCitizen": 0.048}, {"turnoutRate": 0.644, "totalVoters": 1935000, "totalEligibleVoters": 3006638, "abbreviation": "OR", "source": "http://results.oregonvotes.gov/resultsSW.aspx?type=FED&map=CTY", "state": "Oregon", "percentNonCitizen": 0.067}, {"turnoutRate": 0.613, "totalVoters": 5965000, "totalEligibleVoters": 9737690, "abbreviation": "PA", "source": "http://www.electionreturns.pa.gov/ENR_NEW", "state": "Pennsylvania", "percentNonCitizen": 0.035}, {"turnoutRate": 0.588, "totalVoters": 462000, "totalEligibleVoters": 786111, "abbreviation": "RI", "source": "http://www.ri.gov/election/results/2016/general_election/", "state": "Rhode Island", "percentNonCitizen": 0.07}, {"turnoutRate": 0.568, "totalVoters": 2105000, "totalEligibleVoters": 3702997, "abbreviation": "SC", "source": "http://www.enr-scvotes.org/SC/64658/182853/en/summary.html", "state": "South Carolina", "percentNonCitizen": 0.034}, {"turnoutRate": 0.5870000000000001, "totalVoters": 371000, "totalEligibleVoters": 632098, "abbreviation": "SD", "source": "http://electionresults.sd.gov/", "state": "South Dakota", "percentNonCitizen": 0.023}, {"turnoutRate": 0.51, "totalVoters": 2500000, "totalEligibleVoters": 4900137, "abbreviation": "TN", "source": "http://elections.tn.gov/results.php", "state": "Tennessee", "percentNonCitizen": 0.037000000000000005}, {"turnoutRate": 0.511, "totalVoters": 8950000, "totalEligibleVoters": 17514961, "abbreviation": "TX", "source": "https://enrpages.sos.state.tx.us/public/nov08_319.htm", "state": "Texas", "percentNonCitizen": 0.135}, {"turnoutRate": 0.46399999999999997, "totalVoters": 925000, "totalEligibleVoters": 1993581, "abbreviation": "UT", "source": "http://electionresults.utah.gov/elections/federal", "state": "Utah", "percentNonCitizen": 0.067}, {"turnoutRate": 0.647, "totalVoters": 321000, "totalEligibleVoters": 496439, "abbreviation": "VT", "source": "https://vtelectionresults.sec.state.vt.us/Index.html#/state", "state": "Vermont", "percentNonCitizen": 0.022000000000000002}, {"turnoutRate": 0.654, "totalVoters": 3965000, "totalEligibleVoters": 6061032, "abbreviation": "VA", "source": "http://results.elections.virginia.gov/vaelections/2016%20November%20General/Site/Presidential.html", "state": "Virginia", "percentNonCitizen": 0.069}, {"turnoutRate": 0.625, "totalVoters": 3200000, "totalEligibleVoters": 5123524, "abbreviation": "WA", "source": "http://results.vote.wa.gov/results/current/", "state": "Washington", "percentNonCitizen": 0.086}, {"turnoutRate": 0.51, "totalVoters": 729000, "totalEligibleVoters": 1430308, "abbreviation": "WV", "source": "http://services.sos.wv.gov/apps/elections/results/", "state": "West Virginia", "percentNonCitizen": 0.009000000000000001}, {"turnoutRate": 0.6829999999999999, "totalVoters": 2935000, "totalEligibleVoters": 4295057, "abbreviation": "WI", "source": "", "state": "Wisconsin", "percentNonCitizen": 0.031}, {"turnoutRate": 0.601, "totalVoters": 259000, "totalEligibleVoters": 431011, "abbreviation": "WY", "source": "http://soswy.state.wy.us/Elections/Docs/2016/Results/General/2016_General_Statewide_Candidates_Summary.pdf", "state": "Wyoming", "percentNonCitizen": 0.027000000000000003}]

    var onlyValues = series.map(function(obj){ return obj.turnoutRate; });
    var minValue = Math.min.apply(null, onlyValues),
            maxValue = Math.max.apply(null, onlyValues);
    // create color palette function
    // color can be whatever you wish
    var paletteScale = d3.scale.linear()
            .domain([minValue,maxValue])
            .range(["#EFEFFF","#02386F"]); // blue color

    var dataset = {};
    series.forEach(function(item){ //
        // item example value ["USA", 70]
        var iso = item.abbreviation,
                value = item.turnoutRate;
        dataset[iso] = {
            numberOfThings: value,
            fillColor: paletteScale(value),
            totalEligibleVoters: item.totalEligibleVoters
        };
    });

    var map = new Datamap({
        element: document.getElementById('container'),
        scope: "usa",
        data: dataset,
        responsive: true,
        geographyConfig: {
            popupTemplate: function(geo, data) {
                // don't show tooltip if country don't present in dataset
                if (!data) { return ; }
                // tooltip content
                return ['<div class="hoverinfo">',
                    '<strong>', geo.properties.name, '</strong>',
                    '<br>Turnout Rate: <strong>', (data.numberOfThings * 100).toFixed(2), '%', '</strong>', '<br>Total Eligible Voters: ', '<strong>',
                    data.totalEligibleVoters, '</strong>',
                    '</div>'].join('');
            }
        }
    });

    d3.select(window).on('resize', function() {
        map.resize();
    });
</script>
</body>
</html>
